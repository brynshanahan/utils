{"version":3,"sources":["reactive/observable.ts","../node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","../node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","../node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","../node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","../node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","../node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","../node_modules/@juggle/resize-observer/lib/utils/element.js","../node_modules/@juggle/resize-observer/lib/utils/global.js","../node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","../node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","../node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","../node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","../node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","../node_modules/@juggle/resize-observer/lib/utils/process.js","../node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","../node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","../node_modules/@juggle/resize-observer/lib/utils/scheduler.js","../node_modules/@juggle/resize-observer/lib/ResizeObservation.js","../node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","../node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","../node_modules/@juggle/resize-observer/lib/ResizeObserver.js","../node_modules/@juggle/resize-observer/lib/exports/resize-observer.js","observers/create-resize-observable.ts"],"names":["resizeObservers","hasActiveObservations","some","ro","activeTargets","length","hasSkippedObservations","skippedTargets","msg","deliverResizeLoopError","event","ErrorEvent","message","document","createEvent","initEvent","window","dispatchEvent","ResizeObserverBoxOptions","DOMRectReadOnly","x","y","width","height","top","left","bottom","right","Object","freeze","prototype","toJSON","_a","fromRect","rectangle","isSVG","target","SVGElement","isHidden","getBBox","_b","offsetWidth","offsetHeight","getClientRects","isElement","obj","scope","ownerDocument","defaultView","Element","isReplacedElement","tagName","type","global","cache","Map","scrollRegexp","verticalRegexp","IE","test","navigator","userAgent","parseDimension","pixel","parseFloat","size","inlineSize","blockSize","switchSizes","zeroBoxes","devicePixelContentBoxSize","borderBoxSize","contentBoxSize","contentRect","calculateBoxSizes","has","get","set","cs","getComputedStyle","svg","ownerSVGElement","removePadding","boxSizing","writingMode","canScrollVertically","overflowY","canScrollHorizontally","overflowX","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTop","borderTopWidth","borderRight","borderRightWidth","borderBottom","borderBottomWidth","borderLeft","borderLeftWidth","horizontalPadding","verticalPadding","horizontalBorderArea","verticalBorderArea","horizontalScrollbarThickness","clientHeight","verticalScrollbarThickness","clientWidth","widthReduction","heightReduction","contentWidth","contentHeight","borderBoxWidth","borderBoxHeight","boxes","Math","round","devicePixelRatio","calculateBoxSize","observedBox","DEVICE_PIXEL_CONTENT_BOX","BORDER_BOX","ResizeObserverEntry","calculateDepthForNode","node","Infinity","depth","parent","parentNode","broadcastActiveObservations","shallowestDepth","callbacks","forEach","processObserver","entries","processTarget","ot","entry","targetDepth","push","lastReportedSize","resizeObserverCallback","callback","call","observer","splice","_i","callbacks_1","gatherActiveObservationsAtDepth","sizeCache","clear","observationTargets","isActive","process","trigger","notify","cb","queueMicroTask","toggle_1","el_1","createTextNode","config","characterData","MutationObserver","observe","textContent","queueResizeObserver","ResizeObserver","requestAnimationFrame","watching","isWatching","CATCH_FRAMES","observerConfig","attributes","childList","subtree","events","scheduled","Scheduler","_this","stopped","listener","schedule","run","frames","elementsHaveResized","start","stop","body","addEventListener","name","disconnect","removeEventListener","scheduler","updateCount","n","skipNotifyOnElement","display","ResizeObservation","CONTENT_BOX","ResizeObserverDetail","resizeObserver","observerMap","getObservationIndex","i","ResizeObserverController","connect","detail","options","box","unobserve","index","indexOf","delete","arguments","TypeError","toString"],"mappings":";;;;;;AKAA,ADAA,AWAA,AdAA,IIAIkB,ADAAV,AWAAmJ,AdAA3J,GGAG,GAAG,CWAV,QdAmB,GAAG,EAAtB,IIAA,6CDAA;AEAA,AYAA,AGAA,ADAA,ADAA,ATAA,AEAA,ADAA,AEAA,AXAA,ACAA,AIAA,ACAO,AOCP,ACDA,IVAImB,AaAAsL,AZAAtK,ACAOkB,AOCP+E,KRDK,CCAQ,EDAL,CCAQ,AOCP,GAAG,EAAhB,CTDmB,CEAQpH,EFAJ,ACADoB,EYAE,EXAJ,CWAQ,CZAhB,EAAkB,CCAQ,GFAH,KaAK,GXApB,GAAgCpB,MAAhC,GAAyC,EAAtD;AFCH,AaAA,AVDJ,ALCA,AGDgC,AOAhC,IVCIP,KGDmC2B,EDC1BjB,AaAAsL,IZDgC,WDCzC,AFAsB,CEAGrL,ACD4BiB,CDCrD,CFAyB,CEAGhB,CAA5B,AaAA,CAA8BqL,CbACpL,ICDI,CDCnC,EAAsCC,CFAD,AGD8B,KDCnE,AaAA,EbA8C,AaAAwH,MZDkC3G,EYChF,EAAwD,EZD5B;ADExB,AYDR,AGAA,AhBAA,AeAA,ADCQ,ATDR,AEAA,ADAA,APCI,ASDJ,AXAA,ACAA,AID6F,AQE7F,ACDA,ACDA,CZCC,AEDD,GGCIuF,ACAAC,ATAA3H,ACAAK,AYCAsJ,ACDAW,EZCI7J,GEAKU,AaAAhB,CbAL,ASAE,CVDCc,ADCP,EEAaE,ASAJ,CTAL,QaAA,CTDe,AMAA,EGCM,ARDJ,ATAA,AaCA,CLDE,APAD,AaAA,CGClB,CRDoB,ATAA,CCAC,MEA5B,CWAmCyI,CXAC,CKAE,ACADhC,AKAZ,EdAc,AcAA,CbAC,CQAb,EAAgB;ALEpC,ADDJ3G,AcCI,ATDJ,ADDJ,AECI,ATAA,ACAA,AWDJ,ACC2B,ACAvB,EXAAA,IMAI,GLCKG,AaAAd,AjBDFP,ACAAA,AYAuBoI,CTC1B,CIDKT,EJCItG,CAAT,ISDmC,CAAC6H,IICpC,EJD0B,CVAN,AcCE,AJDqB,CVAtB,AUAK,CIC1B,CRDSrB,AIAqCQ,CLAlD,CAA6BjG,ECAzB,CAAJ,EAAoB,AIAU,CLA9B,AKA0D,CCA3C,CXAS,AKAa,CLArC,EHAuBlC,ACAAA,CEAkB,GHAlC,ACAA,CDAqB,ACAA,AYAwC2J,ACA5CW,EDAkC,EAAc,IVAxE,EHAsCrK,ACAAA,EDAV,ACAA,EDAc,ACAA,AaA3B,GAA0B;AVErC,AYFR,AGAA,AhBCIe,AeDJ,ADEQ,ATDA,AEDR,ADCQ,APAJ,ASDJ,AXAgD,ACAA,AYA8B,ACCtEuJ,ACFR,EZEIvJ,EgBDAsJ,ALCIC,EZAA,EMAItD,CJCC7F,AaAAkI,ERDE1B,ATDwC3H,ACAAA,AYA8B0J,ELCpE,ANAFlJ,AFD0C,ACAA,AYA8B,CTE/E,AJFkDP,ACAAG,CYAoB,CLC1D,CJCCe,CeFH,CVCV,EUDc,CfEd,CFDA,EYAqB,CXAD,AWAEuI,CXAD,AcCrB,AjBF+C,CECzB,AFD0CxJ,ACAjB,AaC1B,CbD4CA,AaCjE,CGC0B,EAA1B,CEF0B,CnBAqB,CCAA,EDA0B,CEC7E,AFD4C,ACAkC,CAAlC,CECpB,ADAc,CCAtC,GAA0C,aAA1C,AKAkC+B,MAAlB,CAAZ;AJEA,AeFJ,AhBCAlB,AcCI,ATDA,ADFR,AEEK,APAGR,AFF6E,ACAC,AWAtF,ACA4F,ACEvF,EXADQ,CHFO,ACAA,AYAuB,ACA9B,CZEIR,AFFJ,ACAA,AYAuB,KTGda,AaAA0H,ATDA7G,ANAA,EiBDAoI,CjBCG,GECR,AIDA,CNAY7J,CeCZ,CbAcY,AIDAa,ESCEsK,IbAhB,AIDA,CWDJ,CAAwB3D,AhBCA,ADAZ,CCAa,ADAE,OiBD3B,AFEI,AfDQ,EiBDsB,AjBCE,iBCAZ,CAAxB,GAAuD,0BAAvD;ACEI,AYHR,AGCQ,AhBCP,AeFD,ADGQ,ATDA,AEFR,AREYnI,ASFZ,AXAC,ACAA,AIFD,AQCgG,ACG/F,ACHD,CZDA,AHAA,ACAA,AYCA,ACDA,EXIGM,CaFCmL,ALAAhD,ANFA/G,EHIQ1B,EiBDA2M,CfEC/L,AaAAuH,ATDAtE,GJCL,ACLI,CHIO,EECA,AFDEjE,AGJN,EcGM,AFEb,CEFcH,EfEEgB,AaAA0H,ATDhB,CJCA,EYHe,AREI5B,CWDf,CdHa/E,CWEC,CbEC,CcCnB,ATDwB,CWDC,AXCAqC,CWDzB,CdHO,CcGqB,CdHH,EMEE,CKACrC,ELAE,EHE9B,EQFkB,EAAkB,ILAI2F,KAAV,EAAiB,YREvB7G,wBAAwB,GAAG,EAAhC,CAJ3B;ACMQ,AYHJ,AGCQ,AFEP,ATDG,ADHR,AEEI,APDoC,ASApCoI,ANFA,AOCJ,KVCgB,COCRvB,APDA,AGFA5F,GDKKV,AYHF,AREE8C,CQFD,CPCC,AJHA,CcGK,AdHJnC,CDKN,CKFQ,CAAZ,CLEgB,AeFEoL,EdHT,CAAT,EDKqBpM,ACLF,CDKf,AIDA,GWDU,AXCW,CWDG,AXCF+F,AGFhBoC,IKAInH,CREiB,AGF/B,CHEgCmC,IQFxB,CAAD,IACA,CAAC,GRCiB,CAArB,4BQDsBnC,MAAlB,CADD,IAEA2C,gBAAgB,CAAC3C,IGDV,CAAN,CHCe,CAAhB,CAAyBkK,OAAzB,KAAqC,QAF5C;AZII,AYDP,AGDQ,ADFT,AVGQ,AEHR,ADEI,APCC,AGJG,AQAR,AEAA,CCAA,EdAI,CgBCAK,ARAAzE,AGDA4B,AEAAY,ENGI1C,EJHIhG,CDKCN,AIDA8C,ANCJ,CGLK,EIGA,AMHF,CVAKpC,EDKT,AcJO,ATEEyF,AMHF,CAAf,EXKsB,AcJJ,ALDA,CJGG,AJHE,CIGDI,AJHE1F,CQAH,CKCCgB,CdIK/B,AIDnB,EUHU,CdII,AIDQ,CUH9B,AVG+B2F,AHJd,EDKgB,ACLzB,CIGJ,CCF2B,AGDA4B,CLIK,CAACvE,CJCCjD,AMJJ,KGDb,CTKb,CSLiC,KHCK,CFGhB,CAAtB;AJEA,AaDJ,ATAI,AEHJ,AHDJ,ALKQb,ASJJV,ANFI,AOCR,ACAI,INAAsD,ALKI5C,EQJAyH,AGDA,CAACwB,CRD0BrI,CDMtBK,AaDF8K,ATAEnI,ADJJ,ALKI,GKLD,ALKIzD,CGNwB,CDMhC,ASLJ,ENAY0C,AFD2BvB,AQCzB,CTKG,CCNwB,CECjC,AFDkCV,CHMtB,CQJD,AHDvB,ALKyBR,CEACW,EMJAqG,ALFlB,EDMa,GAAY,AaD7B,GPHA,ARIY,CAAqB,CEACxG,AID9B,CGHY+G,EHGqB,CAAClB,CJClC,CFAQ,CAAR,CSJJ,CHG2C,AGHnB,CHGoB7C,QGHXgE,eAAT,CAAyBnI,CHGZ,CAAjC,AGHoB,EAA6B;APKjD,AYFR,AGDQ,ADFR,ADIC,ATAI,AEHD,ADCA,APGIO,ASJAP,ANHA,AQEA,AEDR,CEJ4B,EAA5B,CDQIoM,AEHAK,AhBKIlM,ASJAP,AIFJwK,ELEIvC,ACAE,CAAChI,CQCC,AdJyCmB,AQEzCwI,CJED/B,APGE,CAACjH,CEACa,GCP4C,AUC7C,CIGKmH,ATDF,ADCb,CIFgB,CTKC,AKHF,AJJ2C/G,AUC7C,CXMKH,AMJF,CRIZ,AGPwD,AQEzC,CHCnB,ARIoB,ASJhB,ANHyDN,AQEzD,CGGa,ALFI2H,EQCb,ADFW,CdKR,AYFU,CZEI,CcLH,AbFlB,CHOA,ASJA,CQCwB,ARDA,CPIjB,AFAkB,ASJzB,AIFqB,CXMrB,COJ2B/I,EAAE,CTI7B,ASJ8BC,EKED,AEHDoJ,AhBKI,EiBHhC,EAAoC,CjBGpC,MSJ2B,CAAiBnJ,MOD1B,APClB,EODgD+B,MAA9B,EAAsC;AdM3D,AYFD,AGDQ,ADFR,AXDJ,AEGQ2F,APGArH,ASJAP,ASPR,ARKA,ACCQ,AEFuB,IRC3BqD,AEGIuE,APGArH,ASJAP,ACFJuJ,EDEM,CODD,APCEnJ,CEDCyJ,CJEC,APGA,AaPyB,CbOxBpJ,AaPyB,CCK1B2L,AEHAM,ANDF,AGD6BnC,CIItB,ADFJ,ALAE,CJEC,CAAT,AGHM,CMCG,ALAE7J,CMEG2M,ADFlB,AXDY,CLMR,CgBLYX,CAAC,AXDF,AQDY,CbOPrM,CSJhB,CODgBgJ,APCEN,CTIlB,AWLmB,CAACe,CMEV,CAAc,APHN,EIItB,ALFI,CKEuB7H,ALFE,CAAzB,EJFR,AIEoCjC,EAAE,CKElC,ALFmCI,EKEAiH,CHHpB,CAAwB,CKAD,CAACnH,ALAxB,CAAX,KKAJ,CFGA,CEH+CwM,APCf,CKEgB,AEHA,APCExM,IODE,CAApD,CPCI,CODmD,gECEzC,CAAN;AHEJ,AGDC,ADFD,AVGJ,AEHAL,AHDJ,AEGQgI,APGH,ASJG7H,ANJA,AOEJ,ACCI,AEH2C,CAAnD,GREIsD,AEGIuE,AEDA7H,EAAE,ACFF4H,CDEGyB,CODCA,ALAAU,CGGC9H,ARAFuF,CCDG,CJLC,AOEF,CPFGrG,CIKC0G,CGHD,ACCE,CGGV,AJJJ,EPFW,AQGM,CGGC5F,ATJJ,CEGK,CAAC6F,CFHH,AFFI,CAAC1G,EWMlB,CLFA,CODsB,APCA8G,CODCwE,CAAD,AVG1B,AHNI,CaGI,CAAsBzK,ATE1B,GEDA,CAA8B,CDDlBiG,AHDpB,CWCY,KAAiCjG,CRAzC,CAAwB,ACCmBoG,IODvC,EAA6C,GRAhBF,ICCC,CAAuBG,EAAvB,EAA2B,MDDrC,CAAyBtI,EAAzB,EAA6B;ANKrDgB,AYDI,AEHI,AVGX,AEHO,AHDR,AEGK,AEDO,ASRZ,AfIK,AOED,ACAmBgJ,CLNI,CJWvBhJ,CIXJ,CDMIuC,EAAE,AMAiByG,EHCXhK,CMGCqH,ATJH,CGCI,ACCEiB,CDDDrI,CCCG,CODCyM,APCApD,CODP,GdIO,CAAC3H,CSLgB,CGI5B,CLFQ,AEFsB,EGIX0F,ALFf,CDDA,AHDH,CGCoBnH,AHDFsD,AIEI,EPG3B,CAA0B5B,CGLrB,CAAuBsB,CGCpB,GNIR,AYDkC,ENHE,CNID,AMJ/B,CMGkCnC,CNHC,MHDJ0C,IHKY,KGLnB,IAAoBP,cKAhB0E,CLAuBnE,IKAvD,KLAgD,CAAiBC,MSIF2I,GTJ1D,CAAT,OSIQ;AZEA,AYDA,AGFAM,ADDC,ARAG,ARIR9L,ASHY,AEHK,AEFrB,EbQIA,EaRA4J,CFEI,GTMI5I,AFAF,CcDG6G,AdCF5H,CEAG,EOHM,CPGH,GWRD,CXQR,EWRW,GbQf,CAAqBP,CaRD,CCOhB,ADPR,GCOgC,AdC5B,2BiBH6BqM,OAAzB,ARAkCtE,CQAD,CRAG,CAACrG,EQArC,EAAuC2G,ERA3B,IAAmChB,EQA/C,GRAQ,EAA8C;APGtD,AYAI7D,AGFP,ADDA,ARAI,AHFT,AEGI,APGH,ASHmB/D,ANLhB,AOEA,ACAI,AEFR,CbLA,GKOI2D,AQFA+G,ECOQ3G,AXPJ1B,EDOepB,ACPb,AQEEgJ,CTKY,AKFbrC,AGHA,CDGS5H,CNLPiC,CDOcJ,AOFL,CAAC5B,CPEM,AKFzB,CLE0BgB,CAAtB,AYAc,CXPlB,CWOoB,ATLN,AQFA,CCMc,ETJX,AQFA,GFEb,CAAqB,CFGT,CAAiBwH,IJHN7E,AIGX,CAAsB0E,EAAtB,EJHC,CMAoB,CNAH,sBKAlC,EAAgC;ARK5B,AYCItE,ATN4B,AEIvC,AEAgB,ANNb,AOGI4D,ACDmC,AEFpB+C,CNLvB,CMKuBA,EHGf/C,EIKI5D,AXRS1B,EDOYpB,CAAC,AGLa2C,AIE/B,ACDH,GRIwBhC,AQJrB,AGHiB,CFEiB4H,CTKX,AWPJ,CXOKvI,AYCnB,ALDA,CPAb,CYCe,AXRS,CUAX,CREoC,AMAD,CNAE0C,AFFvBvB,CQEQ,CRFN,CAACC,EEEyB,IAAI,GAAV,CAAjB,CFFpC,yCOGI;ARIA,AYDwB,AGA5B+H,ADDA,ARAI,AHHkE,AIMtDrK,ANRhB,AOII,ACFqD,AEFpBgK,CREzC,CYIIK,AJNqCL,GCMjC,AHJA,CRF2CzH,CQEY2H,CTKpB7I,AMF/B+G,CQAD,CAAC,APGQpI,CPD0B,AcF1C,CPGkB,CAACI,CPD0ByB,ASLzC,CHGW,AGHoDgI,AEFjB,CXOH,AeDjC,CfCkCxI,AeDjCM,AJNqC,CLKlC,ALLyC,CQEvD,CTKA,AMFA,CLL0DU,AQEW0H,AEFxD,EVA+C,CAACxH,EcMjE,CAAyB2H,ARET,AENZ,CFM8BzB,IAAlB,CAAuBH,CQFvC,CREgB,CNRhB,CcMmC,UAAUrG,MAAV,EAAkB6K,OAAlB,EAA2B,UPF1BlF,KAAhC;ARGA,AYGH,AGHG,ADDP,ARAO5H,ACGS,ANRb,AOIC,AGLyD4K,CGD9D,CHC8DA,ELMtD5K,EAAE,CAACC,CNC8CuB,AeA7C4L,CdND,EAAE9K,AUD0D,EXOT,AWPW,GXORT,CeA5C,AJPA,CXO8C,AeA7C3B,CfA8CsB,CMD5D,CAAiB0G,CLLD,EDMhB,AeAI,EdNgB3F,EKKpB,CSCyB,ATDA,CSCzB,EAA4B,MTDM8F,ALL7B,IAA+BpG,MAAM,CAACO,EKKlB,CAAuB8F,EAAvB,EAA2B,OLLhB,GAAwBpI,MAAzD,CAAP;ADMI,AeCI,ATDA,AHJZ,AIOa,ANRZ,AQCOsJ,AEHuEqB,CVL/E,CUK+EA,ERG3E/G,AMAI0F,ITImEjI,AGJnE,CQH8E,CLOtEgH,CHJL,AMAI,AEHyE,CIQtE,EfD+D,ASJ/D,CHIG,CSCC8E,CfD8DxL,CMA5D,CNA8D,CAACN,CGJlEwC,CGIOyD,GSCV,CfDV,AeCwB,ANLF,KNAnB,EAAsBxD,SAAtB,EAAiCC,WAAjC,EAA8C,KGIjC,CAAwBqE,EAAE,CAACrG,MAA3B,CAAZ,4CSCM,CAAN;AfDJ,AYIJmK,AGFK,ADFT,ARCY,AHJR,AIOK,ACLL,ACH4BvC,AEHX,CAArB,CCWIuC,EEJAO,CPLI,CJEA5I,AKEA,ACHwB8F,ETI+DvI,EMC/EkH,AGLoB,CAAC2B,CTI8D,GAAGtI,CGHpF,CHGsF,CAACP,CYIpF,CAACK,CNHK,AHJJ,CHGf,ASJwB,EHKF,CGLqB,CNCvB,CAAxB,CWGwB,CFIxB,ATP2B,CSOC2H,CEJA,ALJyBM,OGQrD,CHR6D,EGQtB,CHRyBA,CKIxB,OLJgC,EAAX,CGQV,EHR0BA,IDG7E,EAA8B,ECHuD,EAAtC,CAAnB,QHKoBtB,EAAE,CAACrG,MAAzB,CAAlB;ANDJ,AYKA,AEJJ,ARCQmG,AHLqBrE,AIQ5B,ACLG,ACJuF,AEF/F,GJFI,CJK6BA,AQH7B+G,CFEI,CHMI1C,ENFmGjH,AYKnG2C,EDXF,CGOG6I,CFIG,CZLoG,AMEjG,AKRN,CLQOlE,AHLuB,AQFvC,CCUe,CZLoG5G,CGHzE,CHG2E,AME7G,AHLqB,CHGyFV,AMEjGoH,GKRZ,EXML,AMEI,AKNR,MAFS,EAGT,GGIA,GAAoC,CACnC,QHRQ,EAIT,MCOgC,KAAKtG,GDX5B,EAKT,CCMe,EAA8B,KAAKoF,QDXzC,EAMT,CCKe,CAAX,kBDXK,EAOT,OAPS,EAQT,SARS,EAST,SATS,EAUT,WAVS,EAWT,WAXS,EAYT,UAZS,EAaT,MAbS,EAcT,OAdS,CAAb;AXMQ,AeGA,ATAIiB,AHNsC,AISjD,ACLI,ACJA,AEaL,CJpBA,GIoBIyC,ELPQzC,ENHqHlH,AeGrH,ATAE,CSAD,ATAEsH,IKOF,CXV0H,EWUvH,CXV0H7G,EAAE,CAACT,CWU7I,ILPY,CNHJ,EMG0B,KSAXa,MAAV,CAAL,EAAwB,0BTAmBqG,EAAE,CAACrG,MAApB,EAA4BqG,EAAE,CAACjB,WAA/B,CAAtB;AMGJ,AGFI,ADDRsF,AbPJ,EaOIA,EbPAlK,IWUQyJ,IGFM,CdRL,GcQSmB,AdRN,ScQE,CAAc,ADDJ,AbPF3K,CWUK,AEHFkK,CFGG,CXVhB,EAAe,EWUM3K,CEHjC,GAAmC,EFGR,CAAvB,EAAsC,KEHGsK,cAAV,EAA0B3D,QAA1B,EAAoC,uCCCzD,CAAN;AfHJ,AYMI,AGFH,ADDD,ARAI,AHNR,AFDA,AOKA,ACJAX,AEaJ,EFbIA,EEaA+C,ERbIhH,AFDAnC,EaOIgL,AbPR,COKOjF,CFEKY,ALPJnG,CDIG,AYMEqG,AHTJ,CRDT,AQCUD,CEaD,CGPK,ANFF,CLJC,CMAb,AEaa,CGPI,ANFF,ACJAG,CDIf,ELJkB,CWMG0D,ARAE,GAAGtE,CHNH,AMAvB,CNAA,CSSQ,CTTkB,AQaD,ECJOlE,IAAxB,KNHA,EAAmC,sBQA1B,CAAyByI,cAAzB,EAAyC3D,QAAzC,CAAb;AdHS3H,AYOR,ANHO+G,AHPgBhE,AKK/B,ACJGwF,AEaA,CHpBJ,CCOIA,END4BxF,EHGf/C,CAAC,CMIF+G,CNJI/G,ASFT,CTEI,CWWF+J,ERd4B,GAAG,CAAZ,GQc5B,GLP2B,AKON,GLPSxC,WAAlB;ANJOtH,AeKfyL,ADDA9M,ARCK,AHRmC,AFA5C,AQEH,AEaO,CFvBR,KTWuBqB,ACHfyB,CDGgB,CWYZsI,CXZc/J,CAAX,CCHF,EUeI,CVfD,CAACmB,CUeG,CVfD,GAAG,AUed,CVfeR,EAAE,GAAGa,GAAN,MAAe,EaOb+F,EbPF,EaOd,CAAqBoE,CbPgBhL,EAAE,GaOvC,EbP4C,KcQnBqI,AdRwB,CAAnC,GAAuC,GcQrD,CAAiC,CdRyB,CAA5C,EcQd,CdR8DrI,CcQvBI,CdRyB,CAACW,IcQjE,EAA+CkK,OAA/C,AdRQ,MAA4E,IAA5E,IAAoFzK,EAAE,KAAK,KAAK,CAAhG,GAAoG,KAAK,CAAzG,GAA6GA,EAAE,CAACQ,WAA5H;ADGyBxB,AYQrB,AGFH,ATAI,ALRL,APIJ,GqBJI,CrBIJ,CYJQ,CNEqBA,EYQjB,CZRoB,ACFrB,CAAC,CDEsBA,CCFpBsB,CWUG+F,CZRF,ANEf,GOJmB,IAAIhG,GAAG,KWUd,CAAsBqB,MXVIpB,IWU1B,CXV+B,CAACG,GWUKgB,IAAI,AXVzC,CWU0CC,AXVlD,UWUQ,IACG,KAAK2E,gBAAL,CAAsB1E,SAAtB,KAAoCF,IAAI,CAACE,SADhD,EAC2D;AZT5BxC,AYU3B,AELJgL,AREAvE,AHTJ,AFCH,AUcO,AjBXR,COPA,GaUQuE,AREAvE,ENP+BzG,AGF/ByC,GQeKiH,EXb+B,EAAE1J,AYU3B,ANHF,CAACiH,CQFC,CAAC/D,AHQZ,CCHI,ATZO,CHEJ,AMOP,CQFA,AREe,AKMA,CGRC6H,EXPA,CQehB,IRfqB,CGSG5D,AHT5B,EAA4B,IWOxB,EAAgCkE,MAAhC,QREe,GAAkC;ANPJtL,AYW5C,AGJL8I,ADDC,AREOrK,AHVsBiE,ATIlC,EqBKIoG,CDLA,CXJ8BpG,EHEmB1C,AMQzCvB,EAAE,CAAC4I,GNR4C,ANE3D,EMF6DrH,CGFhB,CYS3B,CAACI,ATCP,CAAYkH,AHVwB,EHEjC,EMQH,CAAiB7I,AHVK,EGUH,CSD3B,ATC4B8I,CSDHkE,OTCjB,ESDR,ATCsC5E,GSDD,ITC7B,EAAuCpI,EAAE,CAAC8I,CSDH7G,MAAV,CTC7B,CSD+C;AfPUX,AeQ7D,ATCC,AHX+C,AQgBhD,AjBCN,KYRM,CNP6DA,EeQzD8L,CJMCjC,CXd4D,CNevE,CMfyE7J,IAA5D,CeQM,AJMb,CINcpB,EJME,CjBCtB,CAAY,EqBPF,IrBOV,CqBP+B,CAAzB,ArBOwC,EqBPZ,AJMA;AXd6CiB,AYYzE,AGHI,ADFRwL,ARGI3M,AKI8B,AjBX5B,EoBIN2M,ERGI3M,ENVyEmB,AMUvE,CAAClB,EZPD,EMH4E,AYYvE,CGHG,CfTsEkB,AWc3C8J,CjBXnC,EkBSF,AGHcoC,CrBNI,CMHX,AWcmC,AjBXxC,CiBWyCjC,CLJ3C,CAAiBrC,ISDP,CAAc,ADFJ,CAACmB,ARGrB,AKIqC,CLJb,CAAxB,AKI8B,ELJHlK,EAAE,CQHjC,ARGkCC,GQHC,UAAUsM,ARGd,CAAiBrM,MAA5C,OQH+B,EAA0B+B,MAA1B,EAAkC6K,OAAlC,EAA2C,uCCEhE,CAAN;AfTmF1L,AYa1F,AGHI,ADFD,ARGH,AHZD,AFCJ,AUcgE,AjBTtD,GkBFN,ANVA,CLOA2B,CUcI,CXduF3B,EcQnFoL,CXTD/K,ATMD,GML2F,EAAEL,CGDtF,CAACM,GWSK,ApBHb,CoBGc8C,CbRH,CEDV,ATMqB,CoBGpB,AXTa,CWSG+H,AbRJ,GPKd,OOLwBtK,IaQtB,CAAJ,CbRgB,CaQqB,CbRH;ADA3B,AcSH,AXTJ8B,AFCJ,AUcC,AjBTK,ISNFA,CHAA,INME,CoBGM8I,AbRJ5K,IEDM,EWSI,AXTF,AFCF,CEDGgC,AFCFjB,EaQMwJ,KbRrB,APKM,GAAkB,CSNI,ATMtB,EoBG0B,CAAC/H,AXTFT,GWSV,CAAgBuI,KXTT,GAAexI,MWStB,CAAb,GXTQ,KAA0C,CADrC;AHEpB,AYaD,AGHI,ATCJ,AHXIC,AFCA,GDJJ,CGGIA,GGWC,CSDG,CHGDoI,AGHE,AdTA,EKUApD,EAAE,AHXE,EAAE,CGWD,AHXE/E,AFCZ,CKUC,EAAYgF,OMEjB,CTb2B,GGWC,AHXElF,GYUX9B,ATCYgG,MSDtB,CAAL,AZVuB,EYUC,ATC5B,CHX2CjE,CGWDgF,EAAE,GAAGC,GHXhC,KAA0C,GGWC,CAAC/I,MAA3D,EAAmE8I,EAAE,EAArE,EAAyE;AMG5E,AGHW,ADFA,ARGJ,AHdiB,AFIb,AUaRgC,AjBTM,CkBbe,CDsBrBA,CCtBJ,ATKW,CAAP,IGcQpC,CZNF,CoBGM6D,AbPAxK,CUaH,CIJK,AJIJN,IIJQ0L,ATCF,ALVE,CAACpK,EKUAgG,ELVP,AUaZ,CAAoBoC,GIJN,AJId,CIJ4B,AdTA,EUaF,CGNK,CAACwB,ARGF,AZNxB,CYMyB7D,EAAD,ALVtB,API+B,CYMnC,CLViC,CaOC,CAACK,CHMHiC,MAAV,CjBTa,CiBSK,AjBTG,CAAzC,QoBGyB,EAA4BrJ,MAA5B,CAAnB,GAAyD,CAA7D,EAAgE,4CCE1D,CAAN;AfVRjB,AeWK,ADFO6L,ARGRjE,AHXP,AFCe,AUaR,CRtBR,CHOI5H,EMYI4H,IQHQiE,AHMJ5B,ILHI,CKGC,CGNK,CAAC5B,CHMH,CXfD,CAACvH,EWeZ,MXfJ,GAA2B,IcSf,CAA0B2G,IAA1B,CdTyB1G,AcSM,IAAIqK,KdTpB,EAAqB,6BcSL,CAAsBnK,MAAtB,EAA8B6K,OAAO,IAAIA,OAAO,CAACC,GAAjD,CAA/B;AdRR,AcSQ,ARGX,ALVQ,APGH,SAAA,EMLK,IAAI/L,GNKT,GAA2B,SMLtB,CAAoBe,KcSP,CAAZ,GdT4B,CAACd,CAA9B,EAAiCc,SAAS,CAACb,CAA3C,EAA8Ca,SAAS,CAACZ,KAAxD,EAA+DY,SAAS,CAACX,MAAzE,CAAP;AACH,AeUGuL,AZVR,AQcQ,AjBTJ,GMPA,CGEAzI,ETKA,EiBSQ6G,EjBTJ,EAAE,CSLG,CTIwB,ESJrBtJ,CQcR,EAAe,GRdD,CAACC,MAAP,CAAc,yBYUGsL,SAAzB,CAAmC,IAAnC,EAAyC/K,MAAzC;AACH,ADFW8J,ARGZ,AHXA5H,AFCI,AUaI,AjBTR,ESLAA,CYEA,GrBGA,GYMO6D,ALVE,EPIJ,EAAE,EAF0B,COF7B,QKUJ,GHXyB,EWQHoD,AXRKtH,IAAI,EADL,EWSd;AdRZ,AcSS,ARGZ,AHXGM,AFCI,AUaC,AjBTL,CYrBJ,CHgBIA,ITKA,GMNOpD,ACEE,KPID,CSLK,CFCT,APIM,CSLK8C,IAAI,EAFO,CHC1B;AACH,AeUGuG,ADDK,AXRLhG,AFCI,APA6B,CMtBd,Ce8BnBgG,AZTAhG,CHrBJ,ENsBU,IOAG,OcQK,AZTA,AFCV,CcQW1C,CZTCmC,IAAI,EAHM,EYY1B,CAAyB+H,UAAzB,GAAsC,YAAY;AAC9Cc,ADDH,AXRDrI,AFCI,AUYAyG,AjBRE,ESLNzG,CWDA,CHcIyG,KVZK,APIH,ISLK,AQaE,ERbA,CQaG,AjBRV,COJF,EEDa/J,ATKc,CiBQ3B,CjBRE,8BSLO,CAAoB,CAApB,EYSgB6K,AZTO,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,GYST,CAAoC,IAApC;AACH,AZdyB,AFMtB,AUYA,AjBNJ,CSZY,CAAhB,CYYI,MdNS,APMJ,QOND,IPMJ,GAAoB,MAApB,oBiBMwB,YAAY;AGLpCc,AbNI,AUYI,AjBNR,EoBAAA,ObNS,APMJ,CiBMOpB,GjBNZ,GAAY,CONR,IPMa,IAAL,CoBAY,ApBAF,CoBAGyB,EHMM,CjBNnB,CAAe,CiBMO,GjBNtB,CoBAZ,ApBAA,CiBMQ,EGN6B,UAAUT,cAAV,EAA0BtK,MAA1B,EAAkC;ACEvEoI,ADDI,AXRR,AFEQ,APMJ,EqBCAA,EZTA9F,IWQQiI,CbNC,APMJ,KOND,EcOU,CAACc,ArBDf,EoBAmB,CAAC9I,ApBAJ,CSRC,EWQT,CAAgB+H,AXRJ,CYSpB,ArBDqB,GqBCK,KrBDV,CSRctK,ATQA,IoBAtB,ApBAQ,CoBAZ,ApBA+B,CqBCG,AZTlB,CWQqB,CXRH,CTQtB,CAAhB;AqBEI,ADDI,AXRR,AFEQ,AUWA,AjBLR,MSRIkB,GTQC,CoBAO0J,AHKA,CIJD,AZTF,CAACrI,CFEK,CPMf,CSRI,CWQc,AXRJvC,CFEN,APMK,EoBAQuK,GXRjB,ATQc,CSRlB,EAAuB,ETQV,CAAW,EoBAQ,CAAC/H,CpBApB,CAAgB,CoBAR,CAAgB8H,EpBAxB,CAAb,WoBAqB,CAAb,SCCJ;AACH,ADDO,AXRJ,AFXJ,AUwBYhB,AjBLb,GqBDC,KJMYA,EGLA0B,CXRD9J,IWQM,CXRD,CAACsB,CWQGgI,EXRT,CAAUxK,MAAV,AQaoB,CRb3B,EQa8B,OGLK,CAAC4K,MAAM,CAACxD,QHKnC,UGL2B,EAA4BpH,MAA5B,CAA/B;AXPP,AQaQ,OAFD,SAGQ;AILhB,ADDQ,AbNR,AUaY8I,AjBNN,EAAA,MiBMMA,CINLV,AdPA,CaMK4C,EpBCN,CAAA,COPN,CaMiB,EHOI,EGPA,CAAb,AHOgB,EGPA,ApBClB,CqBAN,ArBAM,EiBMM,IjBNN,GAAR,YAAA;AqBCD,ADDeJ,AXRZ,AFEH,APOG,CqBnCkB,AdYtB,EcZA,GZ0BQ,EWQQA,GpBCL,GoBDW,CAACxD,EpBCN,KAAK,KAAL,ESTApH,ATSb,IoBDY,CAA0B8G,CXRlC,CAAJ,EAAsB,EWQV,CAAiCkE,KAAjC,EAAwC,CAAxC;AACA,AXRR9J,AQcQ,AjBLb,GAFO,CSPFA,KAAK,CAACuB,EQcM,CRdZ,AQca8F,CRdHvI,MAAV,EAAkBiC,CQcK,EAAf,EAAmB,IRd3B,KWQoB,CAAC,CAAb;AACH,AXRL,AQcY,WRdLA,SAAP;AWSC,AXRJ,AQcY,AjBLf,EAAA,UAAA,CAAA,SAAA,CAAA,IAAA,GAAA,UAAK,GAAL,EAAyC,GAAzC,EAAwD;AoBArD,ApBCD,GoBVA,MpBUK,IAAM,CAAX,IAAgB,KAAK,SAAL,CAAe,GAAf,CAAhB,EAAqC;ASTrC,AQcY,AjBJV,MSVES,EAAE,GAAGC,ATUF,CiBIS2G,QjBJd,CAAe,GAAf,EAAoB,CSVG,ATUvB,CSVwBtJ,CTUD,EiBIb,CjBJV,CiBImC,CRdZ,CAAzB;AWSA0K,AXRA,AQcgB1B,AjBJf,EoBFD0B,IXRI9H,GAAG,CQcSoG,ERdN,GQcW,CAACI,GAAN,CAAU,EAAV,IGNQ,CAACQ,KXRT5J,KWQhB,CXRU,EWQ4B,GXRXA,MAAM,CWQesK,AXRdzH,cWQI,CXR5B,CWQsD,GXRX7C,MAAM,CAACG,OAAP,EAArD;AWSI,AXRJ,AQca,AjBJd,GAJD,GSNM2C,EWQIyH,CHII,MAGK,IGPE,AXRF,AQeIlB,CGPD9G,EXRA,CWQZ,AXRajB,CWQGgJ,CXRJ,AQeH,EAAY,ERfF5H,EAAE,CAACK,MWQtB,CAAJ,EAAqC,AXRd,KAAiB,YAA5C;AWSQ,AXRR,AQegBiG,AjBJlB,MSXMhH,IWQQ4I,AHOI5B,KAAK,CGPH,AHOII,CRfP,EWQMmB,AHOL,CRfElJ,AQeQgI,MAAM,GAAG,CGPH,AHOhB,CGPiB7G,GAAZ,AXRW,CWQK8H,AXRJ/I,IAAf,CAAoBmB,EAAE,CAACM,MWQpB,CAAb,IXR8B,IAAkB,EAAtC,CAAlB;AACA,AQea,MRfTC,GQaa,MAGA,URhBM,GAAG,CAACL,GAAD,IAAQxB,YAAY,CAACG,IAAb,CAAkBmB,EAAE,CAACQ,SAAH,IAAgB,EAAlC,CAAlC;AWQQtF,AXPR,AQgBgBoL,MRhBZ7F,IQgBY6F,KAAK,CAACO,KAAN,MRhBS,GAAG,CAAC3G,GAAD,IAAQxB,CWOZ0F,MAAhB,CAAuBlJ,IXPiB,CAAC2D,IAAb,CAAkBmB,EAAE,CAACU,SAAH,IAAgB,EAAlC,CAApC,IWO+C6H,OAAhB,CAAwBL,MAAxB,CAAvB,EAAwD,CAAxD;AXNR,AQgBa,AjBPf,EAAA,ISTMvH,MTSN,CAAA,GSTgB,GAAGT,GAAG,ATStB,CAAA,ESTyB,CAAH,CTStB,EST6BlB,CTS7B,UAAK,GSTsC,CAACgB,CTS5C,CST8C,CAACW,ATSlC,UST8B,CAAzC;AWOQkH,AXNR,AQgBS,AjBPT,MoBHQA,AXNJjH,GTSC,IAAL,CAAU,GoBHS,CAAC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","file":"create-resize-observable.js","sourceRoot":"../src","sourcesContent":["interface Observer<T> {\n  next: Listener<T>\n  complete?: Listener\n  error?: Listener<Error>\n}\ntype Listener<T = any> = (value: T) => any\ntype Cleanup = () => any\ninterface Dict<T> {\n  [key: string]: T\n}\nexport interface ListenerGroup {\n  next: Dict<Listener>\n  error: Dict<Listener>\n  complete: Dict<Listener>\n}\n\nclass Observable<T = any> {\n  private index: number = 0\n  private streamSource: (observer: Observable<T>) => Cleanup\n  private subscribed: boolean = false\n  private activeListeners = 0\n  private unsubscribeFromSource: Cleanup = () => {}\n  private listeners: ListenerGroup = {\n    next: {},\n    error: {},\n    complete: {}\n  }\n  private cancels: Dict<Cleanup> = {}\n\n  constructor(source: Observable['streamSource']) {\n    this.streamSource = source\n    this.next = this.next.bind(this)\n    this.complete = this.complete.bind(this)\n    this.error = this.error.bind(this)\n  }\n\n  private getKey() {\n    return 'k' + this.index++\n  }\n\n  emit(key: 'next' | 'error' | 'complete', val?: T | Error) {\n    for (const k in this.listeners[key]) {\n      this.listeners[key][k](val)\n    }\n  }\n\n  /* Emit the next value */\n  next(value: T) {\n    this.emit('next', value)\n  }\n\n  error(error: Error) {\n    this.emit('error', error)\n  }\n\n  /* Emit an end event to everything */\n  complete() {\n    this.emit('complete')\n    this.destroy()\n  }\n\n  destroy() {\n    for (const k in this.cancels) {\n      this.cancels[k]()\n    }\n  }\n\n  onDestroy (fn:Cleanup) {\n    const key = this.getKey()\n\n    this.cancels[key] = () => {\n      delete this.cancels[key]\n      fn()\n    }\n  }\n\n  /* \n  This is called when a observer unsubscribes\n  if it was the last remaining observer then it unsubscribes from the source\n  */\n  cleanup() {\n    if (!this.activeListeners) {\n      this.unsubscribeFromSource()\n    }\n  }\n\n  /*\n  Subscribe can be passed either a \n  Listener: (nextVal) => {} \n    or an\n  Observer: { next: nextVal => {}, error: err => {}, }\n  */\n  subscribe(fnOrObserver: Listener<T> | Observer<T>) {\n    if (!this.subscribed) {\n      this.unsubscribeFromSource = this.streamSource(this)\n      this.subscribed = true\n    }\n    const key = this.getKey()\n\n    if (isObserver(fnOrObserver)) {\n      const objKeys = Object.keys(fnOrObserver) as (keyof Observer<T>)[]\n      this.activeListeners += 1\n\n      objKeys.forEach(objKey => {\n        this.listeners[objKey][key] = fnOrObserver[objKey]\n      })\n\n      const cancel = () => {\n        this.activeListeners -= 1\n        objKeys.forEach(objKey => {\n          delete this.listeners[objKey][key]\n        })\n        delete this.cancels[key]\n        this.cleanup()\n      }\n\n      this.cancels[key] = cancel\n\n      return { unsubscribe: cancel, observer: fnOrObserver }\n    } else {\n      this.listeners.next[key] = fnOrObserver\n      this.activeListeners += 1\n\n      const cancel = () => {\n        this.activeListeners -= 1\n        delete this.listeners.next[key]\n        delete this.cancels[key]\n        this.cleanup()\n      }\n\n      this.cancels[key]\n\n      return { unsubscribe: cancel, observer: fnOrObserver }\n    }\n  }\n}\n\nfunction isObserver<T>(obj: any): obj is Observer<T> {\n  if (typeof obj === 'object' && obj.next) {\n    return true\n  }\n}\n\nfunction isListener<T>(fn: any): fn is Listener<T> {\n  if (typeof fn === 'function') {\n    return true\n  }\n}\n\n/* Same as regular observable except it always emits the last value */\nexport class BehaviourSubject<T = any> extends Observable<T> {\n  lastNext: T\n\n  next(value: T) {\n    this.emit('next', value)\n    this.lastNext = value\n  }\n\n  /* Very similar to observable except it sends the most recent value on subscribe */\n  subscribe(fnOrObserver: Listener<T> | Observer<T>) {\n    const observer = super.subscribe(fnOrObserver)\n    if (isObserver(observer.observer)) {\n      observer.observer.next(this.lastNext)\n    } else if (isListener(fnOrObserver)) {\n      fnOrObserver(this.lastNext)\n    }\n    return observer\n  }\n}\n\ninterface ChannelAPI<C> {\n  onSubscribe: (channel: C) => any\n  onUnsubscribe: (channel: C) => any\n  destroy: () => any\n}\n\nfunction isChannelAPI<C>(arg): arg is ChannelAPI<C> {\n  return Boolean(arg.destroy)\n}\n\nexport class ChannelledObservable<C = any, V = any> {\n  private index: number = 0\n  private streamSource: (observer: ChannelledObservable<C, V>) => Cleanup | ChannelAPI<C>\n  private subscribed: boolean = false\n  private activeListeners = 0\n  private unsubscribeFromSource: Cleanup | ChannelAPI<C> = () => {}\n  channels: Map<C, ListenerGroup> = new Map()\n  private cancels: Dict<Cleanup> = {}\n\n  constructor(source: ChannelledObservable['streamSource']) {\n    this.streamSource = source\n    this.next = this.next.bind(this)\n    this.complete = this.complete.bind(this)\n    this.error = this.error.bind(this)\n  }\n\n  private getKey() {\n    return 'k' + this.index++\n  }\n\n  emit(channel: C, key: 'next' | 'error' | 'complete', val?: V | Error) {\n    const c = this.channels.get(channel)\n    for (const k in c[key]) {\n      c[key][k](val)\n    }\n  }\n\n  next(channel: C, value: V) {\n    this.emit(channel, 'next', value)\n  }\n  error(channel: C, error: Error) {\n    this.emit(channel, 'error', error)\n  }\n  complete(channel: C) {\n    this.emit(channel, 'complete')\n  }\n\n  destroy() {\n    for (const k in this.cancels) {\n      this.cancels[k]()\n    }\n  }\n\n  onDestroy (fn:Cleanup) {\n    const key = this.getKey()\n\n    this.cancels[key] = () => {\n      delete this.cancels[key]\n      fn()\n    }\n  }\n\n  /* \n  This is called when a observer unsubscribes\n  if it was the last remaining observer then it unsubscribes from the source\n  */\n  cleanup(channel: C) {\n    if (isChannelAPI(this.unsubscribeFromSource)) this.unsubscribeFromSource.onUnsubscribe(channel)\n\n    if (!this.activeListeners) {\n      isChannelAPI(this.unsubscribeFromSource) ? this.unsubscribeFromSource.destroy() : this.unsubscribeFromSource()\n    }\n  }\n\n  /*\n  Subscribe can be passed either a \n  Listener: (nextVal) => {} \n    or an\n  Observer: { next: nextVal => {}, error: err => {}, }\n  */\n  subscribe(channelKey: C, fnOrObserver: Listener<V> | Observer<V>) {\n    if (!this.subscribed) {\n      this.unsubscribeFromSource = this.streamSource(this)\n      this.subscribed = true\n    }\n\n    let channel = this.channels.get(channelKey)\n    const key = this.getKey()\n\n    if (!channel) {\n      channel = { next: {}, error: {}, complete: {} }\n      this.channels.set(channelKey, channel)\n    }\n\n    if (isChannelAPI(this.unsubscribeFromSource)) {\n      this.unsubscribeFromSource.onSubscribe(channelKey)\n    }\n\n    /*  */\n    if (isObserver(fnOrObserver)) {\n      const objKeys = Object.keys(fnOrObserver) as (keyof Observer<V>)[]\n      this.activeListeners += 1\n\n      objKeys.forEach(objKey => {\n        channel[objKey][key] = fnOrObserver[objKey]\n      })\n\n      const cancel = () => {\n        this.activeListeners -= 1\n        const c = this.channels.get(channelKey)\n        objKeys.forEach(objKey => {\n          delete c[objKey][key]\n        })\n        delete this.cancels[key]\n        this.cleanup(channelKey)\n      }\n\n      this.cancels[key] = cancel\n\n      return { unsubscribe: cancel, observer: fnOrObserver }\n    }\n\n    if (isListener(fnOrObserver)) {\n      channel.next[key] = fnOrObserver\n      this.activeListeners += 1\n\n      const cancel = () => {\n        this.activeListeners -= 1\n        delete this.channels.get(channelKey).next[key]\n        delete this.cancels[key]\n        this.cleanup(channelKey)\n      }\n\n      this.cancels[key]\n\n      return { unsubscribe: cancel, observer: fnOrObserver }\n    }\n  }\n}\n\nexport default Observable\n","var resizeObservers = [];\nexport { resizeObservers };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n","var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n","var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n","var DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return Object.freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n","var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a, _b;\n    var scope = (_b = (_a = obj) === null || _a === void 0 ? void 0 : _a.ownerDocument) === null || _b === void 0 ? void 0 : _b.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n","export var global = typeof window !== 'undefined' ? window : {};\n","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { global } from '../utils/global';\nvar cache = new Map();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return Object.freeze({\n        inlineSize: (switchSizes ? blockSize : inlineSize) || 0,\n        blockSize: (switchSizes ? inlineSize : blockSize) || 0\n    });\n};\nvar zeroBoxes = Object.freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target) {\n    if (cache.has(target)) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = Object.freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox) {\n    var _a = calculateBoxSizes(target), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes, cache };\n","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = [boxes.borderBoxSize];\n        this.contentBoxSize = [boxes.contentBoxSize];\n        this.devicePixelContentBoxSize = [boxes.devicePixelContentBoxSize];\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n","import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { cache as sizeCache } from './calculateBoxSize';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    sizeCache.clear();\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n","var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\" + (toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n","import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_FRAMES = 60 / 5;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (frames) {\n        var _this = this;\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(60);\n                }\n                else if (frames) {\n                    _this.run(frames - 1);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run(CATCH_FRAMES);\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n","var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new Map();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        resizeObservers.push(detail);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        if (observerMap.has(resizeObserver)) {\n            var detail = observerMap.get(resizeObserver);\n            if (getObservationIndex(detail.observationTargets, target) < 0) {\n                detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n                updateCount(1);\n                scheduler.schedule();\n            }\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        if (observerMap.has(resizeObserver)) {\n            var detail = observerMap.get(resizeObserver);\n            var index = getObservationIndex(detail.observationTargets, target);\n            if (index >= 0) {\n                detail.observationTargets.splice(index, 1);\n                updateCount(-1);\n            }\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        if (observerMap.has(resizeObserver)) {\n            var detail = observerMap.get(resizeObserver);\n            resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            observerMap.delete(resizeObserver);\n            updateCount(-detail.observationTargets.length);\n        }\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n","export { ResizeObserver } from '../ResizeObserver';\nexport { ResizeObserverEntry } from '../ResizeObserverEntry';\n","/* Intersection observer polyfill for IE */\r\nimport { ResizeObserver as Polyfill } from '@juggle/resize-observer'\r\nimport { ChannelledObservable } from '../reactive/observable'\r\n\r\ndeclare global {\r\n  interface Window {\r\n    ResizeObserver: typeof Polyfill\r\n  }\r\n}\r\n\r\ntype RO = import('@juggle/resize-observer').ResizeObserver\r\n\r\nexport function createResizeObservable() {\r\n  const observable = new ChannelledObservable<Element, RO>(\r\n    ({ next, error, complete }) => {\r\n      /* Entries is an array of entries for every element that changed */\r\n      let disconnected = false\r\n      let started = false\r\n      let source: Promise<RO> | RO\r\n      let getSource = async () => {\r\n        const ResizeObserver =\r\n          window.ResizeObserver ||\r\n          (await import('@juggle/resize-observer')).ResizeObserver\r\n        if (disconnected) return\r\n        started = true\r\n        return new ResizeObserver((entries) => {\r\n          entries.forEach((entry) => {\r\n            /* Get the callback for the specific element */\r\n            next(entry.target, entry)\r\n          })\r\n        })\r\n      }\r\n\r\n      source = getSource().then((r) => {\r\n        source = r\r\n        return r\r\n      })\r\n\r\n      return {\r\n        async onSubscribe(channel) {\r\n          let src = await source\r\n          src.observe(channel)\r\n        },\r\n        async onUnsubscribe(channel) {\r\n          let src = await source\r\n          src.unobserve(channel)\r\n        },\r\n        async destroy() {\r\n          disconnected = true\r\n          if (started) {\r\n            let src = await source\r\n            src.disconnect()\r\n          }\r\n        },\r\n      }\r\n    }\r\n  )\r\n\r\n  return observable\r\n}\r\n"]}